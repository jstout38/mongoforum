<div class="page-header">
  	  	  <h1><a href="#">Forum</a> - {{sub_forum.name}}</h1>
  	  	</div>

        <div ng-if="sub_forum.forum_threads.length / 10 > 1">
              Page {{current_page}}
              (<span ng-repeat="n in threadsArray(sub_forum)">
                <a ng-if="n != current_page" href="#/sub_forums/{{sub_forum._id}}/{{n}}">{{n}}</a>
                <span ng-if="n == current_page">{{n}}</span>
              </span>)
        </div>
  	  	<table class="col-md-12" id = "threadContainer">
          <thead>
            <th class="forumHeader">
              <span class="tableElementWrapper">Topic</span>
            </th>
            <th class = "forumHeader centeredCell">
              <span class="tableElementWrapper">Posts</span>
            </th>
            <th class = "forumHeader">
              <span class="tableElementWrapper">Topic Created</span>
            </th>
            <th class = "forumHeader">
              <span class="tableElementWrapper">Last Post</span>
            </th>
        </thead>
      <tbody>
        <tr class="forumTable" ng-repeat="forum_thread in forum_threads">
  		    <td><span class="tableElementWrapper"><a href="#/sub_forums/{{sub_forum._id}}/forum_threads/{{forum_thread._id}}/1">{{forum_thread.subject}}</a><br>
            by <a href="#/users_admin/{{forum_thread.user._id}}">{{forum_thread.user.username}}</a>
            <div ng-if="forum_thread.posts.length / 10 > 1">
              <span ng-repeat="n in pagesArray(forum_thread)">
                <a href="#/sub_forums/{{sub_forum._id}}/forum_threads/{{forum_thread._id}}/{{n}}">{{n}}</a>
              </span>
            </div>
            </span>
          </td>
          <td class = "centeredCell">
            {{forum_thread.posts.length}}
          </td>
          <td>
            <span class="tableElementWrapper">{{forum_thread.created_at}}</span>
          </td>
          <td>
            <span class="tableElementWrapper"><a href="#/users_admin/{{forum_thread.last_post_id}}">{{forum_thread.last_post_user}}</a> at {{forum_thread.last_post_time}}</span>
          </td>
        </tr>
      </tbody>
      </table>
  	
      <div ng-if="isLoggedIn()" id="threadCreationContainer">
  	  	<h3 id="threadIntro">Add a new thread!</h3>
        <form ng-submit="addThread()">
  		<div class="input-group">
    <input type="text" class="form-control" placeholder="Topic" ng-model="thread.topic">
  </div>
      <div class="input-group">
      <textarea rows="10" cols="90" class="form-control" placeholder="Post" ng-model="thread.post"></textarea>
      </div>
  		<button type="submit">Post</button>
		</form>
  </div>
  		